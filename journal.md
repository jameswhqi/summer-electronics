# 电子技术小学期工作日志

## 8-28 周一

### 上午

#### 模块调试

- **霍尔** 确认当模块上的电位器调到合适的值时，靠近霍尔元件的磁铁可使输出信号由高电平变为低电平，并确认灵敏度不可调。

- **红外** 发现商家给的电路图有问题，对灵敏度进行了调整，使红外模块可以正常工作。

- **颜色** 能工作，对红蓝敏感，绿色较不敏感（等有颜色的亚克力板到货时再测）。

- **舵机** 能通过输入300Hz的PWM信号控制舵机转角。

### 下午

**电机调试** 确认电机驱动模块正常工作。

**车模调整** 将部分垫圈拆除，使前轮转动更灵活。

**电源管理电路** 将TPS54160和排针焊接到了DIP10转接座上。学习如何使用Altium Designer，并将电源管理电路的原理图完成，各元件封装设定好。

## 8-29 周二

### 上午

**电源管理电路** 在面包板上搭建电源管理电路，发现无法工作，初步调试后未发现问题所在，怀疑TPS54160芯片有问题。在Altium Designer中，完成了PCB布局。

### 下午

**电源管理电路** 又将另两块TPS54160焊至转接座，在调试过程中发现无法工作的原因是有些引脚虚焊，反复尝试后成功焊好了一块芯片，在面包板上调试成功，能输出稳定的5V电压。在Altium Designer中，使元件布局变得更合理，并完成电源管理电路的PCB布线，等待制作PCB。

## 8-30 周三

### 上午

**FPGA部分** 开始写FPGA代码，开始写核心逻辑模块。

**电源管理电路** 发现电源管理电路的PCB布线宽度不够、焊盘大小不够，重新设定线宽、焊盘、通孔大小。将做好的第一版电源管理电路的PCB发给助教。

### 下午

**FPGA** 完成FPGA核心逻辑模块的编写和测试。

**电源管理电路** 根据助教回复的问题，对PCB进行修改：重画keep out layer，把线距clearance调大。由于7.2V输入端电流很大，为了进一步增加输入端线宽，学习了覆铜处理，并在PCB上应用。

## 8-31 周四

### 上午

**FPGA** 开始写FPGA寻迹与掉头逻辑模块。

**电源管理电路** 用雕刻法制作了第二版PCB，但发现.pcb文件未保存覆铜部分。询问助教发现只能用腐蚀法做有覆铜的板。

### 下午

**FPGA** 完成FPGA寻迹与掉头逻辑模块的编写和测试。

**电源管理电路** 更改了PCB上关键元件的位置，使布局更合理；用第二版PCB上练习钻定位孔。

## 9-1 周五

### 上午

**车体组装** 将亚克力板支架安装到小车上，确认其尺寸正确，利用不同长度的铜柱调节某些部分至合适的位置。其中发现前轮转角较大时会触碰红外传感器支架，于是利用备用亚克力延长块使支架位置稍向前偏移。

**电源管理电路** 根据在第二版PCB上试插元器件过程中出现的问题，更改了PCB上关键元件的孔间距等参数，重新布线、覆铜后将第四版PCB发给助教。

### 下午

**电源管理电路** 在第三版PCB上练习钻孔，确定每个孔使用的钻头直径，完成第四版PCB的钻孔、焊接、测试，包括驱动FPGA实验板，确认其满足设计要求。

**颜色传感器** 设计颜色传感器的开关控制电路，并在Altium Designer上画PCB。